const fs = require('fs');
const path = require('path');

// Read the CSV file
const csvPath = path.join(__dirname, '../data/common_words.csv');
const csvContent = fs.readFileSync(csvPath, 'utf-8');
const lines = csvContent.trim().split('\n');

// Emoji mapping based on English words
const emojiMap = {
  'hello': 'ğŸ‘‹',
  'hi': 'ğŸ‘‹',
  'thank you': 'ğŸ™',
  'thanks': 'ğŸ™',
  'sorry': 'ğŸ˜”',
  'yes': 'âœ…',
  'no': 'âŒ',
  'water': 'ğŸ’§',
  'apple': 'ğŸ',
  'house': 'ğŸ ',
  'school': 'ğŸ«',
  'friend': 'ğŸ‘«',
  'love': 'â¤ï¸',
  'to like': 'ğŸ‘',
  'to eat': 'ğŸ½ï¸',
  'to see': 'ğŸ‘€',
  'to go': 'ğŸš¶',
  'to come': 'ğŸ‘‹',
  'to do': 'âš™ï¸',
  'to exist': 'âœ¨',
  'to not exist': 'âŒ',
  'good': 'ğŸ‘',
  'bad': 'ğŸ‘',
  'big': 'ğŸ”µ',
  'small': 'ğŸ”´',
  'many': 'ğŸ“¦',
  'few': 'ğŸ“‰',
  'new': 'ğŸ†•',
  'old': 'ğŸ•°ï¸',
  'pretty': 'ğŸ’…',
  'beautiful': 'âœ¨',
  'happy': 'ğŸ˜Š',
  'sad': 'ğŸ˜¢',
  'difficult': 'ğŸ˜“',
  'easy': 'ğŸ˜',
  'fast': 'âš¡',
  'slow': 'ğŸŒ',
  'warm': 'â˜€ï¸',
  'cold': 'â„ï¸',
  'hot': 'ğŸ”¥',
  'cool': 'â„ï¸',
  'delicious': 'ğŸ˜‹',
  'not delicious': 'ğŸ˜•',
  'hungry': 'ğŸ½ï¸',
  'thirsty': 'ğŸ’§',
  'tired': 'ğŸ˜´',
  'sleepy': 'ğŸ˜´',
  'glad': 'ğŸ˜„',
  'angry': 'ğŸ˜ ',
  'scary': 'ğŸ˜±',
  'fun': 'ğŸ‰',
  'boring': 'ğŸ˜‘',
  'important': 'â­',
  'necessary': 'ğŸ“Œ',
  'possible': 'âœ…',
  'impossible': 'âŒ',
  'correct': 'âœ…',
  'wrong': 'âŒ',
  'same': 'ğŸ”„',
  'different': 'ğŸ”€',
  'similar': 'ğŸ”',
  'close': 'ğŸ“',
  'far': 'ğŸ—ºï¸',
  'high': 'â¬†ï¸',
  'low': 'â¬‡ï¸',
  'long': 'ğŸ“',
  'short': 'ğŸ“',
  'wide': 'â†”ï¸',
  'narrow': 'â†•ï¸',
  'deep': 'â¬‡ï¸',
  'shallow': 'ğŸ’§',
  'heavy': 'âš–ï¸',
  'light': 'ğŸ’¡',
  'hard': 'ğŸ’',
  'soft': 'ğŸª¶',
  'bright': 'â˜€ï¸',
  'dark': 'ğŸŒ™',
  'quiet': 'ğŸ¤«',
  'noisy': 'ğŸ”Š',
  'clean': 'âœ¨',
  'dirty': 'ğŸ’©',
  'healthy': 'ğŸ’ª',
  'sick': 'ğŸ¤’',
  'rich': 'ğŸ’°',
  'poor': 'ğŸ’¸',
  'smart': 'ğŸ§ ',
  'stupid': 'ğŸ¤ª',
  'kind': 'ğŸ¤—',
  'rude': 'ğŸ˜¤',
  'brave': 'ğŸ¦',
  'honest': 'ğŸ¤',
  'forgive': 'ğŸ™',
  'help': 'ğŸ†˜',
  'apologize': 'ğŸ™‡',
  'thankful': 'ğŸ™',
  'congratulate': 'ğŸ‰',
  'meet': 'ğŸ¤',
  'make': 'ğŸ”¨',
  'use': 'ğŸ”§',
  'want': 'ğŸ‘†',
  'dislike': 'ğŸ‘',
  'love': 'â¤ï¸',
  'hate': 'ğŸ’”',
  'think': 'ğŸ¤”',
  'know': 'ğŸ§ ',
  'not know': 'â“',
  'remember': 'ğŸ§ ',
  'forget': 'ğŸ§¹',
  'learn': 'ğŸ“š',
  'teach': 'ğŸ‘¨â€ğŸ«',
  'read': 'ğŸ“–',
  'write': 'âœï¸',
  'listen': 'ğŸ‘‚',
  'speak': 'ğŸ—£ï¸',
  'talk': 'ğŸ’¬',
  'ask': 'â“',
  'answer': 'ğŸ’¬',
  'tell': 'ğŸ“¢',
  'explain': 'ğŸ“',
  'understand': 'ğŸ’¡',
  'start': 'ğŸš€',
  'finish': 'ğŸ',
  'continue': 'â–¶ï¸',
  'stop': 'â¹ï¸',
  'wait': 'â³',
  'hurry': 'ğŸƒ',
  'late': 'â°',
  'early': 'ğŸŒ…',
  'quickly': 'âš¡',
  'slowly': 'ğŸŒ',
  'often': 'ğŸ”„',
  'sometimes': 'â°',
  'always': 'â™¾ï¸',
  'never': 'ğŸš«',
  'today': 'ğŸ“…',
  'yesterday': 'ğŸ“†',
  'tomorrow': 'ğŸ“…',
  'now': 'â°',
  'later': 'â³',
  'before': 'â¬…ï¸',
  'after': 'â¡ï¸',
  'morning': 'ğŸŒ…',
  'lunch': 'ğŸ½ï¸',
  'evening': 'ğŸŒ†',
  'night': 'ğŸŒ™',
  'time': 'â°',
  'date': 'ğŸ“…',
  'day of week': 'ğŸ“†',
  'month': 'ğŸ“…',
  'year': 'ğŸ“†',
  'hour': 'ğŸ•',
  'minute': 'â±ï¸',
  'second': 'â±ï¸',
  'Monday': 'ğŸ“…',
  'Tuesday': 'ğŸ“…',
  'Wednesday': 'ğŸ“…',
  'Thursday': 'ğŸ“…',
  'Friday': 'ğŸ“…',
  'Saturday': 'ğŸ“…',
  'Sunday': 'ğŸ“…',
  'January': 'â„ï¸',
  'February': 'ğŸ’',
  'March': 'ğŸŒ¸',
  'April': 'ğŸŒ·',
  'May': 'ğŸŒº',
  'June': 'â˜€ï¸',
  'July': 'ğŸŒ',
  'August': 'ğŸŒ»',
  'September': 'ğŸ‚',
  'October': 'ğŸƒ',
  'November': 'ğŸ',
  'December': 'ğŸ„',
  'person': 'ğŸ‘¤',
  'man': 'ğŸ‘¨',
  'woman': 'ğŸ‘©',
  'child': 'ğŸ‘¶',
  'baby': 'ğŸ‘¶',
  'student': 'ğŸ“',
  'teacher': 'ğŸ‘¨â€ğŸ«',
  'doctor': 'ğŸ‘¨â€âš•ï¸',
  'nurse': 'ğŸ‘©â€âš•ï¸',
  'mom': 'ğŸ‘©',
  'dad': 'ğŸ‘¨',
  'older brother': 'ğŸ‘¨',
  'older sister': 'ğŸ‘©',
  'younger sibling': 'ğŸ‘¶',
  'younger brother': 'ğŸ‘¦',
  'younger sister': 'ğŸ‘§',
  'grandfather': 'ğŸ‘´',
  'grandmother': 'ğŸ‘µ',
  'cat': 'ğŸ±',
  'dog': 'ğŸ•',
  'bird': 'ğŸ¦',
  'fish': 'ğŸŸ',
  'tree': 'ğŸŒ³',
  'flower': 'ğŸŒ¸',
  'grass': 'ğŸŒ±',
  'sky': 'â˜ï¸',
  'cloud': 'â˜ï¸',
  'sun': 'â˜€ï¸',
  'moon': 'ğŸŒ™',
  'star': 'â­',
  'rain': 'ğŸŒ§ï¸',
  'snow': 'â„ï¸',
  'wind': 'ğŸ’¨',
  'lightning': 'âš¡',
  'thunder': 'â›ˆï¸',
  'weather': 'ğŸŒ¤ï¸',
  'clear': 'â˜€ï¸',
  'cloudy': 'â˜ï¸',
  'spring': 'ğŸŒ¸',
  'summer': 'â˜€ï¸',
  'autumn': 'ğŸ‚',
  'winter': 'â„ï¸',
  'food': 'ğŸ½ï¸',
  'rice': 'ğŸš',
  'soup': 'ğŸ²',
  'meat': 'ğŸ¥©',
  'vegetable': 'ğŸ¥¬',
  'fruit': 'ğŸ',
  'bread': 'ğŸ',
  'milk': 'ğŸ¥›',
  'tea': 'ğŸµ',
  'coffee': 'â˜•',
  'juice': 'ğŸ§ƒ',
  'beer': 'ğŸº',
  'soju': 'ğŸ¶',
  'kimchi': 'ğŸ¥¬',
  'bulgogi': 'ğŸ¥©',
  'bibimbap': 'ğŸ²',
  'kimbap': 'ğŸ±',
  'ramen': 'ğŸœ',
  'tteokbokki': 'ğŸ¢',
  'chicken': 'ğŸ—',
  'pizza': 'ğŸ•',
  'hamburger': 'ğŸ”',
  'snack': 'ğŸª',
  'candy': 'ğŸ¬',
  'chocolate': 'ğŸ«',
  'ice cream': 'ğŸ¦',
  'cake': 'ğŸ‚',
  'banana': 'ğŸŒ',
  'orange': 'ğŸŠ',
  'grape': 'ğŸ‡',
  'strawberry': 'ğŸ“',
  'watermelon': 'ğŸ‰',
  'peach': 'ğŸ‘',
  'pear': 'ğŸ',
  'cherry': 'ğŸ’',
  'kiwi': 'ğŸ¥',
  'pineapple': 'ğŸ',
  'mango': 'ğŸ¥­',
  'lemon': 'ğŸ‹',
  'carrot': 'ğŸ¥•',
  'onion': 'ğŸ§…',
  'garlic': 'ğŸ§„',
  'potato': 'ğŸ¥”',
  'sweet potato': 'ğŸ ',
  'tomato': 'ğŸ…',
  'cucumber': 'ğŸ¥’',
  'lettuce': 'ğŸ¥¬',
  'cabbage': 'ğŸ¥¬',
  'broccoli': 'ğŸ¥¦',
  'mushroom': 'ğŸ„',
  'pepper': 'ğŸŒ¶ï¸',
  'clothes': 'ğŸ‘•',
  'shirt': 'ğŸ‘”',
  'pants': 'ğŸ‘–',
  'skirt': 'ğŸ‘—',
  'dress': 'ğŸ‘—',
  'jacket': 'ğŸ§¥',
  'coat': 'ğŸ§¥',
  'hat': 'ğŸ©',
  'shoes': 'ğŸ‘Ÿ',
  'boots': 'ğŸ‘¢',
  'socks': 'ğŸ§¦',
  'gloves': 'ğŸ§¤',
  'scarf': 'ğŸ§£',
  'bag': 'ğŸ‘œ',
  'wallet': 'ğŸ‘›',
  'watch': 'âŒš',
  'glasses': 'ğŸ‘“',
  'earrings': 'ğŸ‘‚',
  'necklace': 'ğŸ“¿',
  'ring': 'ğŸ’',
  'room': 'ğŸšª',
  'bedroom': 'ğŸ›ï¸',
  'living room': 'ğŸ›‹ï¸',
  'kitchen': 'ğŸ³',
  'bathroom': 'ğŸš¿',
  'bathtub': 'ğŸ›',
  'shower': 'ğŸš¿',
  'bed': 'ğŸ›ï¸',
  'blanket': 'ğŸ›ï¸',
  'pillow': 'ğŸ›ï¸',
  'chair': 'ğŸª‘',
  'table': 'ğŸª‘',
  'sofa': 'ğŸ›‹ï¸',
  'desk': 'ğŸª‘',
  'bookshelf': 'ğŸ“š',
  'refrigerator': 'â„ï¸',
  'microwave': 'ğŸ“¡',
  'washing machine': 'ğŸŒ€',
  'vacuum cleaner': 'ğŸ§¹',
  'television': 'ğŸ“º',
  'computer': 'ğŸ’»',
  'laptop': 'ğŸ’»',
  'smartphone': 'ğŸ“±',
  'tablet': 'ğŸ“±',
  'internet': 'ğŸŒ',
  'email': 'ğŸ“§',
  'message': 'ğŸ’¬',
  'phone': 'ğŸ“',
  'call': 'ğŸ“',
  'text message': 'ğŸ’¬',
  'camera': 'ğŸ“·',
  'photo': 'ğŸ“¸',
  'movie': 'ğŸ¬',
  'music': 'ğŸµ',
  'song': 'ğŸµ',
  'book': 'ğŸ“š',
  'newspaper': 'ğŸ“°',
  'magazine': 'ğŸ“–',
  'pen': 'âœï¸',
  'pencil': 'âœï¸',
  'paper': 'ğŸ“„',
  'scissors': 'âœ‚ï¸',
  'glue': 'ğŸ§´',
  'ruler': 'ğŸ“',
  'eraser': 'ğŸ§¹',
  'notebook': 'ğŸ““',
  'university': 'ğŸ«',
  'classroom': 'ğŸ«',
  'library': 'ğŸ“š',
  'playground': 'ğŸ›',
  'professor': 'ğŸ‘¨â€ğŸ«',
  'class': 'ğŸ“š',
  'subject': 'ğŸ“–',
  'homework': 'ğŸ“',
  'exam': 'ğŸ“',
  'grade': 'ğŸ“Š',
  'study': 'ğŸ“š',
  'draw': 'ğŸ¨',
  'color': 'ğŸ¨',
  'red': 'ğŸ”´',
  'orange': 'ğŸŸ ',
  'yellow': 'ğŸŸ¡',
  'green': 'ğŸŸ¢',
  'blue': 'ğŸ”µ',
  'purple': 'ğŸŸ£',
  'pink': 'ğŸ©·',
  'black': 'âš«',
  'white': 'âšª',
  'gray': 'âšª',
  'brown': 'ğŸŸ¤',
  'number': 'ğŸ”¢',
  'zero': '0ï¸âƒ£',
  'one': '1ï¸âƒ£',
  'two': '2ï¸âƒ£',
  'three': '3ï¸âƒ£',
  'four': '4ï¸âƒ£',
  'five': '5ï¸âƒ£',
  'six': '6ï¸âƒ£',
  'seven': '7ï¸âƒ£',
  'eight': '8ï¸âƒ£',
  'nine': '9ï¸âƒ£',
  'ten': 'ğŸ”Ÿ',
  'eleven': '1ï¸âƒ£1ï¸âƒ£',
  'twelve': '1ï¸âƒ£2ï¸âƒ£',
  'twenty': '2ï¸âƒ£0ï¸âƒ£',
  'thirty': '3ï¸âƒ£0ï¸âƒ£',
  'forty': '4ï¸âƒ£0ï¸âƒ£',
  'fifty': '5ï¸âƒ£0ï¸âƒ£',
  'sixty': '6ï¸âƒ£0ï¸âƒ£',
  'seventy': '7ï¸âƒ£0ï¸âƒ£',
  'eighty': '8ï¸âƒ£0ï¸âƒ£',
  'ninety': '9ï¸âƒ£0ï¸âƒ£',
  'hundred': 'ğŸ’¯',
  'thousand': '1ï¸âƒ£0ï¸âƒ£0ï¸âƒ£0ï¸âƒ£',
  'ten thousand': '1ï¸âƒ£0ï¸âƒ£0ï¸âƒ£0ï¸âƒ£0ï¸âƒ£',
  'million': 'ğŸ’µ',
  'billion': 'ğŸ’°',
  'first': '1ï¸âƒ£',
  'second': '2ï¸âƒ£',
  'third': '3ï¸âƒ£',
  'fourth': '4ï¸âƒ£',
  'fifth': '5ï¸âƒ£',
  'how many': 'â“',
  'how much': 'ğŸ’°',
  'where': 'ğŸ“',
  'when': 'â°',
  'who': 'ğŸ‘¤',
  'what': 'â“',
  'how': 'â“',
  'why': 'â“',
  'which': 'â“',
  'what kind': 'â“',
  'what time': 'ğŸ•',
  'this': 'ğŸ‘‰',
  'that': 'ğŸ‘‰',
  'here': 'ğŸ“',
  'there': 'ğŸ“',
  'over there': 'ğŸ“',
  'this way': 'ğŸ‘‰',
  'that way': 'ğŸ‘‰',
  'day after tomorrow': 'ğŸ“…',
  'day before yesterday': 'ğŸ“…',
  'this week': 'ğŸ“…',
  'last week': 'ğŸ“…',
  'next week': 'ğŸ“…',
  'this month': 'ğŸ“…',
  'last month': 'ğŸ“…',
  'next month': 'ğŸ“…',
  'this year': 'ğŸ“…',
  'last year': 'ğŸ“…',
  'next year': 'ğŸ“…',
  'these days': 'ğŸ“…',
  'recently': 'ğŸ•',
  'in the past': 'â¬…ï¸',
  'soon': 'â³',
  'right away': 'âš¡',
  'immediately': 'âš¡',
  'earlier': 'â°',
  'occasionally': 'â°',
  'almost': 'ğŸ“Š',
  'not at all': 'âŒ',
  'already': 'âœ…',
  'yet': 'â³',
  'hurry': 'ğŸƒ',
  'leisurely': 'ğŸš¶',
  'quietly': 'ğŸ¤«',
  'noisily': 'ğŸ”Š',
  'loudly': 'ğŸ”Š',
  'highly': 'â¬†ï¸',
  'lowly': 'â¬‡ï¸',
  'deeply': 'â¬‡ï¸',
  'shallowly': 'ğŸ’§',
  'widely': 'â†”ï¸',
  'narrowly': 'â†•ï¸',
  'longly': 'ğŸ“',
  'shortly': 'ğŸ“',
  'heavily': 'âš–ï¸',
  'lightly': 'ğŸ’¡',
  'hardly': 'ğŸ’',
  'softly': 'ğŸª¶',
  'hotly': 'ğŸ”¥',
  'coldly': 'â„ï¸',
  'warmly': 'â˜€ï¸',
  'coolly': 'â„ï¸',
  'brightly': 'â˜€ï¸',
  'darkly': 'ğŸŒ™',
  'cleanly': 'âœ¨',
  'dirtily': 'ğŸ’©',
  'healthily': 'ğŸ’ª',
  'sickly': 'ğŸ¤’',
  'smartly': 'ğŸ§ ',
  'stupidly': 'ğŸ¤ª',
  'kindly': 'ğŸ¤—',
  'rudely': 'ğŸ˜¤',
  'bravely': 'ğŸ¦',
  'cowardly': 'ğŸ˜°',
  'honestly': 'ğŸ¤',
  'lyingly': 'ğŸ¤¥',
  'forgivingly': 'ğŸ™',
  'helpfully': 'ğŸ†˜',
  'apologetically': 'ğŸ™‡',
  'thankfully': 'ğŸ™',
  'congratulatorily': 'ğŸ‰',
  'meeting': 'ğŸ¤',
  'making': 'ğŸ”¨',
  'using': 'ğŸ”§',
  'needing': 'ğŸ“Œ',
  'wanting': 'ğŸ‘†',
  'liking': 'ğŸ‘',
  'disliking': 'ğŸ‘',
  'loving': 'â¤ï¸',
  'hating': 'ğŸ’”',
  'thinking': 'ğŸ¤”',
  'knowing': 'ğŸ§ ',
  'not knowing': 'â“',
  'remembering': 'ğŸ§ ',
  'forgetting': 'ğŸ§¹',
  'learning': 'ğŸ“š',
  'teaching': 'ğŸ‘¨â€ğŸ«',
  'reading': 'ğŸ“–',
  'writing': 'âœï¸',
  'listening': 'ğŸ‘‚',
  'speaking': 'ğŸ—£ï¸',
  'talking': 'ğŸ’¬',
  'asking': 'â“',
  'answering': 'ğŸ’¬',
  'telling': 'ğŸ“¢',
  'explaining': 'ğŸ“',
  'understanding': 'ğŸ’¡',
  'not understanding': 'â“',
  'starting': 'ğŸš€',
  'finishing': 'ğŸ',
  'continuing': 'â–¶ï¸',
  'stopping': 'â¹ï¸',
  'waiting': 'â³',
  'hurrying': 'ğŸƒ',
  'being late': 'â°',
};

function getEmoji(english) {
  // Normalize the English text
  const normalized = english.toLowerCase().trim();
  
  // Direct match
  if (emojiMap[normalized]) {
    return emojiMap[normalized];
  }
  
  // Try partial matches for compound words
  for (const [key, emoji] of Object.entries(emojiMap)) {
    if (normalized.includes(key) || key.includes(normalized)) {
      return emoji;
    }
  }
  
  // Return empty if no match
  return '';
}

// Process the CSV
const header = lines[0];
const newHeader = header + ',emoji,imageUrl';
const newLines = [newHeader];

for (let i = 1; i < lines.length; i++) {
  const line = lines[i];
  const [korean, english] = line.split(',');
  const emoji = getEmoji(english);
  const imageUrl = ''; // Leave blank as requested
  newLines.push(`${korean},${english},${emoji},${imageUrl}`);
}

// Write the updated CSV
const newCsvContent = newLines.join('\n');
fs.writeFileSync(csvPath, newCsvContent, 'utf-8');

console.log(`Updated CSV with emoji and imageUrl columns. Processed ${lines.length - 1} words.`);

